(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{ouTy:function(e,t,a){"use strict";a.r(t);a("y8nQ");var n=a("Vl3Y"),c=(a("T2oS"),a("W9HT")),l=(a("IzEo"),a("bx4M")),r=(a("Pwec"),a("CtXQ")),s=(a("R9oj"),a("ECub")),o=(a("MXD1"),a("CFYs")),i=(a("14J3"),a("BMrR")),m=(a("jCWc"),a("kPKH")),u=(a("+L6B"),a("2/Rp")),d=a("2Taf"),p=a.n(d),E=a("vZ4D"),v=a.n(E),y=a("l4Ni"),f=a.n(y),g=a("ujKo"),h=a.n(g),N=a("MhPg"),x=a.n(N),k=(a("tU7J"),a("wFql")),C=a("q1tI"),b=a.n(C),j=a("y1Nh"),w=a("MuoO"),L=a("XfOM"),O=a.n(L),I=a("iJd5"),T=a("+n12"),M=a("3a4m"),R=a.n(M),S=(k.a.Title,k.a.Text),B=function(e){function t(e){var a;return p()(this,t),(a=f()(this,h()(t).call(this,e))).onFetchList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageSize:100};(0,a.props.dispatch)({type:"cluster/clusterList",payload:e})},a.onRaload=function(e){e&&e.stopPropagation(),a.onFetchList()},a.onRouteTo=function(e,t){a.props.history.push({pathname:e,query:t||{}})},a.onAdd=function(){R.a.push("/cluster/add")},a.state={resourceType:[{name:"CPU",value:"",unit:"S"},{name:"磁盘",value:""},{name:"内存",value:""}]},a}return x()(t,e),v()(t,[{key:"componentDidMount",value:function(){Object(T.f)()||R.a.replace("/exception403"),this.onFetchList()}},{key:"renderTitle",value:function(){return b.a.createElement("div",null,b.a.createElement("p",{className:O.a.marginB},"通过Mesos集群、Kubernetes集群或者独立节点的方式，管理物理机、虚拟机、云主机等各类计算资源"),b.a.createElement(i.a,{type:"flex",justify:"space-between",align:"middle"},b.a.createElement(m.a,null,Object(T.f)()||projectListAdmin.length?b.a.createElement(u.a,{type:"primary",onClick:this.onAdd},"+ 新增资源"):null)))}},{key:"renderResource",value:function(e){return b.a.createElement("div",{className:"".concat(O.a.flexCenter),style:{margin:"10px 20px"}},b.a.createElement("div",null,e.name),b.a.createElement("div",{className:"".concat(O.a.flex1," ").concat(O.a.processLR)},b.a.createElement(o.a,{percent:50,showInfo:!1})),b.a.createElement("div",null,"50%（135 / 144 Shares）"))}},{key:"renderList",value:function(){var e=this,t=(this.state.resourceType,this.props),a=t.list,n=t.loading;return b.a.createElement(i.a,{gutter:24},a&&a.rows&&!a.rows.length&&!n&&b.a.createElement(s.a,{image:s.a.PRESENTED_IMAGE_SIMPLE}),a&&a.rows&&a.rows.length&&a.rows.map(function(t,a){return b.a.createElement(m.a,{md:12,key:a,className:O.a.marginB,sm:24},b.a.createElement(l.a,{title:b.a.createElement("strong",null,t.name,b.a.createElement(S,{type:"secondary"},"（",I.d[t.type],"）")),hoverable:!0,extra:b.a.createElement(r.a,{type:"reload",onClick:function(t){return e.onRaload(t)}}),onClick:function(){e.onRouteTo("/cluster/detail",{clusterId:t.clusterId})}},b.a.createElement("div",null,b.a.createElement("div",{className:O.a.flex},b.a.createElement("div",{className:O.a.clusterItem},b.a.createElement(S,{strong:!0},"状态"),I.c[t.status]&&b.a.createElement(C.Fragment,null,b.a.createElement("div",{className:O.a.midHeight},b.a.createElement(r.a,{type:I.c[t.status].icon,style:{fontSize:30,color:I.c[t.status].colorValue}})),b.a.createElement(S,{type:"secondary"},I.c[t.status].text))),b.a.createElement("div",{className:O.a.clusterItem},b.a.createElement(S,{strong:!0},"环境"),b.a.createElement("div",{className:O.a.midHeight},b.a.createElement("strong",null,t.envQuantity))),b.a.createElement("div",{className:O.a.clusterItem},b.a.createElement(S,{strong:!0},"主机"),b.a.createElement("div",{className:O.a.midHeight},b.a.createElement("span",{className:O.a.textSuccess},t.normalNodeQuantity),b.a.createElement("span",null,"/"),b.a.createElement("strong",null,t.nodeQuantity)),b.a.createElement(S,{type:"secondary"},"正常/所有")),b.a.createElement("div",{className:O.a.clusterItem},b.a.createElement(S,{strong:!0},"容器"),b.a.createElement("div",{className:O.a.midHeight},b.a.createElement("span",{className:O.a.textSuccess},t.runningServiceQuantity||0),b.a.createElement("span",null,"/"),b.a.createElement("strong",null,t.serviceQuantity||0)),b.a.createElement(S,{type:"secondary"},"运行中/所有容器"))),b.a.createElement("div",{className:O.a.marginT},b.a.createElement("p",null,"环境资源（已分隔给各环境的资源 / 集群总资源）"),b.a.createElement("div",{className:"".concat(O.a.flexCenter),style:{margin:"10px 20px"}},b.a.createElement("div",null,"CPU"),b.a.createElement("div",{className:"".concat(O.a.flex1," ").concat(O.a.processLR)},b.a.createElement(o.a,{percent:Object(T.c)(t.envCpu,t.cpu),showInfo:!1,strokeColor:"#1890ff"})),b.a.createElement("div",{className:O.a.rightBlock},"".concat(Object(T.c)(t.envCpu,t.cpu),"%（").concat(t.envCpu," / ").concat(t.cpu||0," Core）"))),b.a.createElement("div",{className:"".concat(O.a.flexCenter),style:{margin:"10px 20px"}},b.a.createElement("div",null,"内存"),b.a.createElement("div",{className:"".concat(O.a.flex1," ").concat(O.a.processLR)},b.a.createElement(o.a,{percent:Object(T.c)(t.envMemory,t.memory),showInfo:!1,strokeColor:"#1890ff"})),b.a.createElement("div",{className:O.a.rightBlock},"".concat(Object(T.c)(t.envMemory,t.memory),"%（").concat(Object(T.a)(t.envMemory)," / ").concat(Object(T.a)(t.memory)," GiB）"))),b.a.createElement("div",{className:"".concat(O.a.flexCenter),style:{margin:"10px 20px"}},b.a.createElement("div",null,"磁盘"),b.a.createElement("div",{className:"".concat(O.a.flex1," ").concat(O.a.processLR)},b.a.createElement(o.a,{percent:Object(T.c)(t.envDisk,t.disk),showInfo:!1,strokeColor:"#1890ff"})),b.a.createElement("div",{className:O.a.rightBlock},"".concat(Object(T.c)(t.envDisk,t.disk),"%（").concat(Object(T.a)(t.envDisk)," / ").concat(Object(T.a)(t.disk)," GiB）")))))))}))}},{key:"render",value:function(){var e=this.props.loading;return b.a.createElement(j.PageHeaderWrapper,{content:this.renderTitle()},b.a.createElement(c.a,{spinning:e},this.renderList()))}}]),t}(b.a.Component);t.default=n.a.create()(Object(w.connect)(function(e){var t=e.cluster,a=e.loading;return{list:t.clusterList,loading:a.effects["cluster/clusterList"]}})(B))}}]);