## 服务镜像管理

### 镜像信息  
每次构建发布都会创建出一个新镜像。

- 镜像名：项目CODE/服务CODE

- 镜像tag：环境CODE-代码分支-构建时间（yyyyMMdd-HHmm）

- 关联git提交记录：在构建镜像时，会获取到构建时间所拉取代码的最后一次提交记录信息。可追溯镜像中代码提交信息。
  

### 镜像推送  

   在需要镜像交付或相关场景时，可选择镜像推送到目标镜像库。
 
 - 内部镜像库：推送到其他环境的镜像库，如果两个环境在同一个集群（即使用的是同一个镜像库），也需要在此镜像镜像推送操作，但实际上镜像库不会创建出新镜像。
 
 - 外部镜像库：推送到其他镜像库，填写目标镜像库地址，根据目标镜像库权限要求配置相应但凭证。
 

### 镜像删除

- 自动清理：为了避免镜像太多造成存储空间浪费，系统有定时任务每天凌晨3点会自动进行镜像清理。默认每个环境只保留最近十个镜像。
- 手动清理：用户亦可手动进行镜像清理，删除不需要但镜像。（请不要删除正在使用但镜像，会影响容器漂移、扩容和重启）
